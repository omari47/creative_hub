{% extends 'base.html' %}
{% load static %}

{% block title %}Contact Us - Creative Platform{% endblock %}

{% block extra_css %}
<style>
    .contact-hero {
        background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                    url('https://source.unsplash.com/random/1920x600/?contact,office') no-repeat center center/cover;
        color: #fff;
        padding: 6rem 0;
        text-align: center;
    }

    .contact-section {
        padding: 5rem 0;
    }

    .contact-info-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 2rem;
    }

    .contact-icon {
        background-color: var(--accent-color);
        color: #fff;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        margin-right: 1rem;
        flex-shrink: 0;
    }

    .contact-form {
        background-color: var(--card-bg);
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .form-control {
        background-color: var(--input-bg);
        border: 1px solid var(--border-color);
        color: var(--text-color);
    }

    .form-control:focus {
        background-color: var(--input-bg-focus);
        border-color: var(--accent-color);
        box-shadow: 0 0 0 0.2rem rgba(var(--accent-color-rgb), 0.25);
    }

    .map-container {
        height: 400px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .form-floating > label {
        color: var(--text-color-muted);
    }

    .form-floating > .form-control:focus ~ label,
    .form-floating > .form-control:not(:placeholder-shown) ~ label {
        color: var(--accent-color);
    }

    .float-animation {
        animation: float 6s infinite ease-in-out;
    }

    @keyframes float {
        0%, 100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-20px);
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Contact Hero Section -->
<section class="contact-hero">
    <div class="container">
        <h1 class="display-4 mb-4">Contact Us</h1>
        <p class="lead">Have questions or feedback? We'd love to hear from you!</p>
    </div>
</section>

<!-- Contact Information & Form Section -->
<section class="contact-section">
    <div class="container">
        <div class="row g-5">
            <!-- Contact Information -->
            <div class="col-lg-5">
                <h2 class="mb-4">Get In Touch</h2>
                <p class="lead mb-4">We're here to help with any questions you might have about our platform.</p>
                
                <div class="contact-info-item">
                    <div class="contact-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div>
                        <h5>Our Location</h5>
                        <p>123 Creative Avenue<br>Inspiration City, IC 10101</p>
                    </div>
                </div>
                
                <div class="contact-info-item">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div>
                        <h5>Email Us</h5>
                        <p>info@creativeplatform.com<br>support@creativeplatform.com</p>
                    </div>
                </div>
                
                <div class="contact-info-item">
                    <div class="contact-icon">
                        <i class="fas fa-phone-alt"></i>
                    </div>
                    <div>
                        <h5>Call Us</h5>
                        <p>+1 (555) 123-4567<br>+1 (555) 987-6543</p>
                    </div>
                </div>
                
                <div class="contact-info-item">
                    <div class="contact-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div>
                        <h5>Working Hours</h5>
                        <p>Monday - Friday: 9:00 AM - 6:00 PM<br>Saturday: 10:00 AM - 4:00 PM</p>
                    </div>
                </div>
                
                <div class="mt-4">
                    <h5>Follow Us</h5>
                    <div class="d-flex gap-3 mt-2">
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Contact Form -->
            <div class="col-lg-7">
                <div class="contact-form">
                    <h2 class="mb-4">Send Us a Message</h2>
                    
                    <form method="post" action="{% url 'landing:contact' %}">
                        {% csrf_token %}
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="name" name="name" placeholder="Your Name" required>
                                    <label for="name">Your Name</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating mb-3">
                                    <input type="email" class="form-control" id="email" name="email" placeholder="Your Email" required>
                                    <label for="email">Your Email</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="subject" name="subject" placeholder="Subject" required>
                            <label for="subject">Subject</label>
                        </div>
                        
                        <div class="form-floating mb-3">
                            <textarea class="form-control" id="message" name="message" placeholder="Your Message" style="height: 150px" required></textarea>
                            <label for="message">Your Message</label>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map Section -->
<section class="contact-section bg-light">
    <div class="container">
        <h2 class="text-center mb-5">Find Us</h2>
        <div class="map-container">
            <!-- Embed Google Map (replace with your address) -->
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d387193.30591910525!2d-74.25986652425035!3d40.697149422113014!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2s!4v1619982764423!5m2!1sen!2s" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="contact-section">
    <div class="container">
        <h2 class="text-center mb-5">Frequently Asked Questions</h2>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                How do I sign up for the platform?
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Signing up is easy! Click on the "Sign Up" button in the navigation menu, fill out the registration form with your details, and you'll be ready to explore our platform.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                How do I purchase a featured movie?
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                To purchase a featured movie, first ensure you're logged in. Browse our movie selection, choose the one you like, and click "Purchase." You'll be directed to a secure payment page to complete your transaction.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                How do I register for a workshop?
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                To register for a workshop, navigate to the Workshops section, select the workshop you're interested in, and click "Register." If the workshop has a fee, you'll need to complete the payment process to confirm your spot.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                Can I change my theme preferences?
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes! Once logged in, go to your profile page and look for the "Theme Preferences" section. You can choose from several themes to customize your experience on the platform.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Animate contact form and info on scroll
        // ScrollTrigger removed to fix console errors
        
        // Simple reveal animations using Intersection Observer instead of ScrollTrigger
        const contactForm = document.querySelector('.contact-form');
        const contactInfoItems = document.querySelectorAll('.contact-info-item');
        
        // Set initial styles
        if (contactForm) {
            contactForm.style.opacity = 0;
            contactForm.style.transform = 'translateY(50px)';
        }
        
        contactInfoItems.forEach(item => {
            item.style.opacity = 0;
            item.style.transform = 'translateX(-50px)';
        });
        
        // Create observers
        const formObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    gsap.to(entry.target, {
                        opacity: 1,
                        y: 0,
                        duration: 1
                    });
                    formObserver.unobserve(entry.target);
                }
            });
        }, {threshold: 0.2});
        
        const infoItemsObserver = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    gsap.to(entry.target, {
                        opacity: 1,
                        x: 0,
                        duration: 0.8,
                        delay: index * 0.2
                    });
                    infoItemsObserver.unobserve(entry.target);
                }
            });
        }, {threshold: 0.2});
        
        // Observe elements
        if (contactForm) {
            formObserver.observe(contactForm);
        }
        
        contactInfoItems.forEach(item => {
            infoItemsObserver.observe(item);
        });
    });
</script>
{% endblock %}
